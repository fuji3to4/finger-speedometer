@import "tailwindcss";

:root {
  --background: #ffffff;
  --foreground: #171717;
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

@media (prefers-color-scheme: dark) {
  :root {
    --background: #0a0a0a;
    --foreground: #ededed;
  }
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: Arial, Helvetica, sans-serif;
}

/* --- Mobile safe utilities & media defaults --- */
*, *::before, *::after { box-sizing: border-box; }
html, body { height: 100%; }
body { -webkit-tap-highlight-color: transparent; }

/* Avoid accidental overscroll bounce on mobile UIs */
/* (Removed overscroll-behavior to avoid iOS <16 lint warning) */

/* Media elements should never overflow container width */
img, video, canvas, svg { max-width: 100%; height: auto; display: block; }

/* Force-hide class for camera <video> (prevents accidental override) */
.camera-video-hidden { display: none !important; }

/* Safe viewport height helpers (iOS address bar shrink/expand) */
@supports (height: 100svh) {
  .min-h-100svh { min-height: 100svh; }
}
@supports not (height: 100svh) {
  .min-h-100svh { min-height: 100vh; }
}

/* Respect safe-area insets on notched devices */
.safe-p {
  padding-top: max(16px, env(safe-area-inset-top));
  padding-right: max(16px, env(safe-area-inset-right));
  padding-bottom: max(16px, env(safe-area-inset-bottom));
  padding-left: max(16px, env(safe-area-inset-left));
}

/* Stage wrapper for the camera/canvas to prevent clipping on small screens */
.media-stage {
  width: 100%;
  /* On short screens keep the stage within the viewport minus header/controls */
  max-height: calc(100svh - 180px);
  margin-inline: auto;
  touch-action: manipulation;
}
/* Ensure media scales down to fit the stage on short screens */
.media-stage canvas,
.media-stage video { max-height: 100%; }
@supports not (height: 100svh) {
  .media-stage { max-height: calc(100vh - 180px); }
}

/* Scroll lock while fullscreen */
.no-scroll { overflow: hidden; height: 100%; }

/* Pseudo fullscreen fallback (when Fullscreen API not available) */
.pseudo-fullscreen {
  position: fixed !important;
  inset: 0 !important;
  z-index: 50;
  max-width: none !important;
  max-height: none !important;
  padding: 0 !important;
  border-radius: 0 !important;
  background: #000;
}
.pseudo-fullscreen canvas { border-radius: 0 !important; box-shadow: none !important; }

/* Native/pseudo fullscreen common tweaks */
.is-fullscreen.media-stage {
  display: flex;
  align-items: center;
  justify-content: center;
  background: #000;
  width: 100vw !important;
  height: 100svh !important;
  max-width: none !important;
  max-height: none !important;
}
@supports not (height: 100svh) {
  .is-fullscreen.media-stage { height: 100vh !important; }
}
.is-fullscreen.media-stage canvas {
  width: auto;
  height: auto;
  max-width: 100%;
  max-height: 100%;
  border-radius: 0 !important;
  box-shadow: none !important;
}
